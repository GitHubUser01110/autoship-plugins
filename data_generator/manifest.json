{
  "id": "data_generator",
  "name": "数据生成器",
  "version": "1.0.1",
  "description": "生成模拟传感器数据，包括温度、湿度、GPS位置等信息",
  "author": "测试开发者",
  "dependencies": [],
  "entry": "plugin.py",
  "updated_at": "2025-01-20",
  "config_schema": [
    {
      "name": "generation_interval",
      "type": "number",
      "default": 5.0,
      "description": "数据生成间隔（秒）",
      "min": 1.0,
      "max": 60.0
    },
    {
      "name": "data_types",
      "type": "array",
      "default": ["temperature", "humidity", "gps"],
      "description": "要生成的数据类型",
      "items": {
        "type": "string",
        "enum": ["temperature", "humidity", "gps", "speed", "battery"]
      }
    },
    {
      "name": "enable_noise",
      "type": "boolean",
      "default": true,
      "description": "是否添加随机噪声"
    }
  ],
  "interfaces": [
    {
      "name": "get_latest_data",
      "description": "获取最新生成的传感器数据",
      "parameters": {
        "input_data": {
          "type": "any",
          "required": false,
          "description": "可选的输入参数（当前未使用）"
        }
      },
      "returns": {
        "type": "object",
        "description": "最新的传感器数据对象",
        "properties": {
          "timestamp": {
            "type": "number",
            "description": "数据生成时间戳"
          },
          "generation_count": {
            "type": "number",
            "description": "生成次数计数"
          },
          "plugin_id": {
            "type": "string",
            "description": "插件ID"
          },
          "temperature": {
            "type": "number",
            "description": "温度值（摄氏度）",
            "optional": true
          },
          "humidity": {
            "type": "number",
            "description": "湿度值（百分比）",
            "optional": true
          },
          "latitude": {
            "type": "number",
            "description": "纬度坐标",
            "optional": true
          },
          "longitude": {
            "type": "number",
            "description": "经度坐标",
            "optional": true
          },
          "gps_quality": {
            "type": "string",
            "description": "GPS信号质量（excellent/good/fair）",
            "optional": true
          },
          "speed": {
            "type": "number",
            "description": "速度值（节）",
            "optional": true
          },
          "battery_level": {
            "type": "number",
            "description": "电池电量（百分比）",
            "optional": true
          }
        }
      }
    },
    {
      "name": "get_data_history",
      "description": "获取历史传感器数据记录",
      "parameters": {
        "input_data": {
          "type": "object|number",
          "required": false,
          "description": "输入参数，可以是对象或数字",
          "properties": {
            "limit": {
              "type": "number",
              "description": "返回的最大记录数，默认100",
              "default": 100
            }
          },
          "alternate": {
            "type": "number",
            "description": "直接指定返回的记录数"
          }
        }
      },
      "returns": {
        "type": "array",
        "description": "历史数据记录数组，按时间倒序排列",
        "items": {
          "type": "object",
          "description": "单条传感器数据记录，格式同get_latest_data返回值"
        }
      }
    },
    {
      "name": "start_generation",
      "description": "开始数据生成任务",
      "parameters": {
        "input_data": {
          "type": "any",
          "required": false,
          "description": "可选的输入参数（当前未使用）"
        }
      },
      "returns": {
        "type": "string",
        "description": "操作结果消息",
        "examples": [
          "数据生成已开始",
          "数据生成已在运行中",
          "启动失败: 错误信息"
        ]
      }
    },
    {
      "name": "stop_generation",
      "description": "停止数据生成任务",
      "parameters": {
        "input_data": {
          "type": "any",
          "required": false,
          "description": "可选的输入参数（当前未使用）"
        }
      },
      "returns": {
        "type": "string",
        "description": "操作结果消息",
        "examples": [
          "数据生成已停止",
          "停止失败: 错误信息"
        ]
      }
    }
  ],
  "events": {
    "publishes": [
      "sensor.data_generated",
      "sensor.temperature_update",
      "sensor.gps_update",
      "sensor.battery_low"
    ],
    "subscribes": [
      "system.startup",
      "system.shutdown"
    ]
  }
}